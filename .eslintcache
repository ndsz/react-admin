[{"D:\\reactdemo\\react-admin\\src\\index.js":"1","D:\\reactdemo\\react-admin\\src\\App.js":"2","D:\\reactdemo\\react-admin\\src\\pages\\login\\login.js":"3","D:\\reactdemo\\react-admin\\src\\pages\\admin\\admin.jsx":"4","D:\\reactdemo\\react-admin\\src\\api\\ajax.js":"5","D:\\reactdemo\\react-admin\\src\\api\\index.js":"6","D:\\reactdemo\\react-admin\\src\\utils\\memoryUtils.js":"7","D:\\reactdemo\\react-admin\\src\\utils\\storageUtils.js":"8","D:\\reactdemo\\react-admin\\src\\components\\left-nav\\index.jsx":"9","D:\\reactdemo\\react-admin\\src\\pages\\user\\user.jsx":"10","D:\\reactdemo\\react-admin\\src\\pages\\home\\home.jsx":"11","D:\\reactdemo\\react-admin\\src\\config\\menuConfig.js":"12","D:\\reactdemo\\react-admin\\src\\pages\\charts\\pie.jsx":"13","D:\\reactdemo\\react-admin\\src\\pages\\category\\category.jsx":"14","D:\\reactdemo\\react-admin\\src\\pages\\charts\\line.jsx":"15","D:\\reactdemo\\react-admin\\src\\pages\\charts\\bar.jsx":"16","D:\\reactdemo\\react-admin\\src\\pages\\product\\product.jsx":"17","D:\\reactdemo\\react-admin\\src\\pages\\role\\role.jsx":"18","D:\\reactdemo\\react-admin\\src\\components\\header\\index.jsx":"19","D:\\reactdemo\\react-admin\\src\\pages\\category\\update-form.jsx":"20","D:\\reactdemo\\react-admin\\src\\components\\link-button\\index.jsx":"21","D:\\reactdemo\\react-admin\\src\\pages\\product\\detail.js":"22","D:\\reactdemo\\react-admin\\src\\pages\\product\\add-update.js":"23","D:\\reactdemo\\react-admin\\src\\pages\\product\\home.js":"24","D:\\reactdemo\\react-admin\\src\\pages\\product\\pro-cascader.js":"25","D:\\reactdemo\\react-admin\\src\\pages\\product\\pictures-wall.js":"26"},{"size":362,"mtime":1607684618873,"results":"27","hashOfConfig":"28"},{"size":585,"mtime":1607478058611,"results":"29","hashOfConfig":"28"},{"size":5620,"mtime":1608136768634,"results":"30","hashOfConfig":"28"},{"size":1788,"mtime":1609080078788,"results":"31","hashOfConfig":"28"},{"size":1090,"mtime":1607657529377,"results":"32","hashOfConfig":"28"},{"size":2809,"mtime":1609171322277,"results":"33","hashOfConfig":"28"},{"size":118,"mtime":1607678929225,"results":"34","hashOfConfig":"28"},{"size":483,"mtime":1607684273309,"results":"35","hashOfConfig":"28"},{"size":3053,"mtime":1608023100971,"results":"36","hashOfConfig":"28"},{"size":156,"mtime":1607936337735,"results":"37","hashOfConfig":"28"},{"size":156,"mtime":1607936185968,"results":"38","hashOfConfig":"28"},{"size":1071,"mtime":1607995490334,"results":"39","hashOfConfig":"28"},{"size":154,"mtime":1608000443668,"results":"40","hashOfConfig":"28"},{"size":7629,"mtime":1608254336511,"results":"41","hashOfConfig":"28"},{"size":156,"mtime":1608000431365,"results":"42","hashOfConfig":"28"},{"size":154,"mtime":1608000418231,"results":"43","hashOfConfig":"28"},{"size":551,"mtime":1608308443509,"results":"44","hashOfConfig":"28"},{"size":156,"mtime":1607936353899,"results":"45","hashOfConfig":"28"},{"size":2770,"mtime":1608136496195,"results":"46","hashOfConfig":"28"},{"size":1032,"mtime":1608219832612,"results":"47","hashOfConfig":"28"},{"size":194,"mtime":1608220046520,"results":"48","hashOfConfig":"28"},{"size":174,"mtime":1608308025943,"results":"49","hashOfConfig":"28"},{"size":5360,"mtime":1609171425174,"results":"50","hashOfConfig":"28"},{"size":3417,"mtime":1608862391005,"results":"51","hashOfConfig":"28"},{"size":3042,"mtime":1609175009277,"results":"52","hashOfConfig":"28"},{"size":4573,"mtime":1609077612348,"results":"53","hashOfConfig":"28"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},"11osdav",{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"59"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"56"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"78","messages":"79","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"77"},{"filePath":"80","messages":"81","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"85"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"85"},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"70"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"98","usedDeprecatedRules":"85"},{"filePath":"99","messages":"100","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"82"},{"filePath":"101","messages":"102","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"103","messages":"104","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"85"},{"filePath":"105","messages":"106","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"107","messages":"108","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"109","usedDeprecatedRules":"82"},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\reactdemo\\react-admin\\src\\index.js",[],["114","115"],"D:\\reactdemo\\react-admin\\src\\App.js",[],["116","117"],"D:\\reactdemo\\react-admin\\src\\pages\\login\\login.js",[],"D:\\reactdemo\\react-admin\\src\\pages\\admin\\admin.jsx",[],"D:\\reactdemo\\react-admin\\src\\api\\ajax.js",[],"D:\\reactdemo\\react-admin\\src\\api\\index.js",[],"D:\\reactdemo\\react-admin\\src\\utils\\memoryUtils.js",[],["118","119"],"D:\\reactdemo\\react-admin\\src\\utils\\storageUtils.js",[],"D:\\reactdemo\\react-admin\\src\\components\\left-nav\\index.jsx",[],"D:\\reactdemo\\react-admin\\src\\pages\\user\\user.jsx",[],["120","121"],"D:\\reactdemo\\react-admin\\src\\pages\\home\\home.jsx",[],"D:\\reactdemo\\react-admin\\src\\config\\menuConfig.js",[],["122","123"],"D:\\reactdemo\\react-admin\\src\\pages\\charts\\pie.jsx",[],["124","125"],"D:\\reactdemo\\react-admin\\src\\pages\\category\\category.jsx",[],"D:\\reactdemo\\react-admin\\src\\pages\\charts\\line.jsx",[],"D:\\reactdemo\\react-admin\\src\\pages\\charts\\bar.jsx",[],"D:\\reactdemo\\react-admin\\src\\pages\\product\\product.jsx",[],"D:\\reactdemo\\react-admin\\src\\pages\\role\\role.jsx",[],"D:\\reactdemo\\react-admin\\src\\components\\header\\index.jsx",["126"],"import React, { Component } from 'react'\r\nimport { Icon, Modal, Button } from 'antd'\r\nimport { Link, withRouter } from 'react-router-dom'\r\nimport menuList from '../../config/menuConfig'\r\nimport memoryUtils from '../../utils/memoryUtils'\r\nimport storageUtils from '../../utils/storageUtils'\r\nimport moment from 'moment'\r\nimport { reqWeather } from '../../api'\r\n\r\nimport './index.less'\r\n\r\nclass Header extends Component {\r\n  state = {\r\n    currentTime: '', // 当前时间字符串\r\n    weather: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setIntervalbanner();\r\n    this.getWeather()\r\n  }\r\n\r\n  getWeather = async () => {\r\n    // 调用接口请求异步获取数据\r\n    const weather = await reqWeather('武汉')\r\n    // 更新状态\r\n    this.setState({weather})\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearInterval(this.currentTimeID);\r\n  }\r\n\r\n  setIntervalbanner = () => {\r\n    this.currentTimeID = setInterval(\r\n      () => this.queryCurrentTime(),\r\n      1000\r\n    );\r\n  }\r\n\r\n  queryCurrentTime = () => {\r\n    const currentTime = `${moment(new Date()).format('YYYY-MM-DD')} ${moment(new Date()).format('HH:mm:ss')}`;\r\n    this.setState({\r\n      currentTime,\r\n    });\r\n  }\r\n\r\n  getTitle = menuList => {\r\n    const path = this.props.location.pathname\r\n    let title = ''\r\n    function queryTitle(menuList) {\r\n      menuList.forEach(item => {\r\n        if (path === item.key) {\r\n          title = item.title\r\n        } else if (item.children) {\r\n          queryTitle(item.children)\r\n        }\r\n      })\r\n    }\r\n    queryTitle(menuList)\r\n    return title\r\n  }\r\n\r\n    /*\r\n  退出登陆\r\n   */\r\n  logout = () => {\r\n    // 显示确认框\r\n    Modal.confirm({\r\n      content: '确定退出吗?',\r\n      onOk: () => {\r\n        // 删除保存的user数据\r\n        storageUtils.removeUser()\r\n        memoryUtils.user = {}\r\n\r\n        // 跳转到login\r\n        this.props.history.replace('/login')\r\n      }\r\n    })\r\n  }\r\n\r\n  render () {\r\n    const { currentTime, weather } = this.state\r\n    const title = this.getTitle(menuList)\r\n    return (\r\n      <div className=\"header\">\r\n        <div className=\"header-top\">\r\n          <span>欢迎，{memoryUtils.user.username}</span>\r\n          {/* <Link to=\"/login\">退出</Link> */}\r\n          <Button className='header-top-button' onClick={this.logout}>退出</Button>\r\n        </div>\r\n        <div className=\"header-bottom\">\r\n          <div className=\"header-bottom-left\">{title}</div>\r\n          <div className=\"header-bottom-right\">\r\n            <span>{currentTime}</span>\r\n            <Icon type=\"smile\" theme=\"twoTone\" twoToneColor=\"#52c41a\" style={{ fontSize: 18, margin: '0 15px' }} />\r\n            <span>{weather}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default withRouter(Header)\r\n","D:\\reactdemo\\react-admin\\src\\pages\\category\\update-form.jsx",[],"D:\\reactdemo\\react-admin\\src\\components\\link-button\\index.jsx",[],"D:\\reactdemo\\react-admin\\src\\pages\\product\\detail.js",[],"D:\\reactdemo\\react-admin\\src\\pages\\product\\add-update.js",["127"],"D:\\reactdemo\\react-admin\\src\\pages\\product\\home.js",["128","129"],"import React, { Component } from 'react'\r\nimport { Card, Select, Input, Button, Table, Icon } from 'antd'\r\n\r\nimport {reqProducts, reqSearchProducts, reqUpdateStatus} from '../../api'\r\nimport {PAGE_SIZE} from '../../utils/constants'\r\n\r\nimport LinkButton from '../../components/link-button'\r\n\r\nconst { Option } = Select\r\n\r\nexport default class ProductHome extends Component {\r\n  state = {\r\n    searchType: 'productName',\r\n    searchName: '',\r\n    products: [], // 商品的数组\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.initColumns()\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getProducts(1)\r\n  }\r\n\r\n  getProducts = async (pageNum) => {\r\n    this.loading = true\r\n    const result = await reqProducts(pageNum, PAGE_SIZE)\r\n    this.loading = false\r\n    console.log('result', result)\r\n    if (result && result.status === 0) {\r\n      this.setState({\r\n        products: result.data.list\r\n      })\r\n    }\r\n  }\r\n\r\n  initColumns = () => {\r\n    this.columns = [\r\n      {\r\n        title: '商品名称',\r\n        dataIndex: 'name',\r\n      },\r\n      {\r\n        title: '商品描述',\r\n        dataIndex: 'desc',\r\n      },\r\n      {\r\n        title: '价格',\r\n        dataIndex: 'price',\r\n        render: (price) => '¥' + price  // 当前指定了对应的属性, 传入的是对应的属性值\r\n      },\r\n      {\r\n        width: 100,\r\n        title: '状态',\r\n        // dataIndex: 'status',\r\n        render: (product) => {\r\n          const {status, _id} = product\r\n          const newStatus = status===1 ? 2 : 1\r\n          return (\r\n            <span>\r\n              <Button\r\n                type='primary'\r\n                onClick={() => this.updateStatus(_id, newStatus)}\r\n              >\r\n                {status===1 ? '下架' : '上架'}\r\n              </Button>\r\n              <span>{status===1 ? '在售' : '已下架'}</span>\r\n            </span>\r\n          )\r\n        }\r\n      },\r\n      {\r\n        width: 100,\r\n        title: '操作',\r\n        render: (product) => {\r\n          return (\r\n            <span>\r\n              {/*将product对象使用state传递给目标路由组件*/}\r\n              <LinkButton onClick={() => this.props.history.push('/product/detail', {product})}>详情</LinkButton>\r\n              <LinkButton onClick={() => this.props.history.push('/product/addupdate', product)}>修改</LinkButton>\r\n            </span>\r\n          )\r\n        }\r\n      },\r\n    ];\r\n  }\r\n\r\n  render () {\r\n    const { searchType, searchName, products } = this.state\r\n    const title = (<span>\r\n      <Select value={searchType} style={{ width: 150 }} onChange={e => { this.setState({ searchType: e }) }}>\r\n        <Option value=\"productName\">按名称搜索</Option>\r\n        <Option value=\"productDesc\">按描述搜索</Option>\r\n      </Select >\r\n      <Input value={searchName} style={{width: 150, margin: '0 15px'}} onChange={event => this.setState({searchName:event.target.value})} />\r\n      <Button type='primary' onClick={() => this.getProducts(1)}>搜索</Button>\r\n    </span>)\r\n\r\n    const extra = (<span>\r\n      <Button type=\"primary\" onClick={() => this.props.history.push('/product/addupdate')}><Icon type='plus'/>添加商品</Button>\r\n    </span>)\r\n    return (\r\n      <Card title={title} extra={extra}>\r\n        <Table\r\n          bordered\r\n          loading={this.loading}\r\n          rowKey='_id'\r\n          dataSource={products}\r\n          columns={this.columns}\r\n        />\r\n      </Card>\r\n    )\r\n  }\r\n}","D:\\reactdemo\\react-admin\\src\\pages\\product\\pro-cascader.js",[],"D:\\reactdemo\\react-admin\\src\\pages\\product\\pictures-wall.js",["130"],{"ruleId":"131","replacedBy":"132"},{"ruleId":"133","replacedBy":"134"},{"ruleId":"131","replacedBy":"135"},{"ruleId":"133","replacedBy":"136"},{"ruleId":"131","replacedBy":"137"},{"ruleId":"133","replacedBy":"138"},{"ruleId":"131","replacedBy":"139"},{"ruleId":"133","replacedBy":"140"},{"ruleId":"131","replacedBy":"141"},{"ruleId":"133","replacedBy":"142"},{"ruleId":"131","replacedBy":"143"},{"ruleId":"133","replacedBy":"144"},{"ruleId":"145","severity":1,"message":"146","line":3,"column":10,"nodeType":"147","messageId":"148","endLine":3,"endColumn":14},{"ruleId":"149","severity":2,"message":"150","line":166,"column":55,"nodeType":"147","messageId":"151","endLine":166,"endColumn":61},{"ruleId":"145","severity":1,"message":"152","line":4,"column":22,"nodeType":"147","messageId":"148","endLine":4,"endColumn":39},{"ruleId":"145","severity":1,"message":"153","line":4,"column":41,"nodeType":"147","messageId":"148","endLine":4,"endColumn":56},{"ruleId":"145","severity":1,"message":"154","line":118,"column":53,"nodeType":"147","messageId":"148","endLine":118,"endColumn":65},"no-native-reassign",["155"],"no-negated-in-lhs",["156"],["155"],["156"],["155"],["156"],["155"],["156"],["155"],["156"],["155"],["156"],"no-unused-vars","'Link' is defined but never used.","Identifier","unusedVar","no-undef","'detail' is not defined.","undef","'reqSearchProducts' is defined but never used.","'reqUpdateStatus' is defined but never used.","'previewTitle' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]